
function setCheckedStart(value) {
    var stars = document.getElementsByClassName('block-rating-star');
    for(var i = 0; i < 5; i++) {
        stars[i].children [0].className = 'star-img'
        stars[i].children [1].className = 'star-img d-none'
    }

    for(var i = 0; i < value; i++) {
        stars[i].children [0].className = 'star-img d-none'
        stars[i].children [1].className = 'star-img'
    }
}

function setUnCheckedStart(value) {
    var stars = document.getElementsByClassName('block-rating-star');
    var rating_value = document.getElementById('rating').value
    for(var i = rating_value; i < value; i++) {
        stars[i].children [0].className = 'star-img'
        stars[i].children [1].className = 'star-img d-none'
    }
}

function starOn(value) {
    var stars = document.getElementsByClassName('block-rating-star');
    for(var i = 0; i < value; i++) {
        stars[i].children [0].className = 'star-img d-none'
        stars[i].children [1].className = 'star-img'
    }
}

function setRating(value) {
    document.getElementById('rating').value = value
    setCheckedStart(value)
}

var stars = document.getElementsByClassName('block-rating-star');

stars.forEach(element => {
    element.addEventListener('mouseover', (event) =>{
        starOn(element.dataset.block_rating)
    })
    element.addEventListener('mouseout', (event) =>{
        setUnCheckedStart(element.dataset.block_rating)
    })
    element.addEventListener('click', (event)=> {
        setRating(element.dataset.block_rating);
    })
});
